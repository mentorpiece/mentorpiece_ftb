<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="#{page.title.register}"></title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <div th:replace="layout/master-page :: header-css"/>
    <link rel="stylesheet" href="/css/auth-pages.css">
    <div th:replace="layout/master-page :: gtm-head"/>
</head>
<body>
<div th:replace="layout/master-page :: gtm-body"/>
    <!-- Background Grid -->
    <div class="auth-background register-background">
        <div class="bg-item" style="background-image: url('/img/pic1.jpg');"></div>
        <div class="bg-item" style="background-image: url('/img/pic2.jpg');"></div>
        <div class="bg-item" style="background-image: url('/img/pic3.jpg');"></div>
        <div class="bg-item" style="background-image: url('/img/pic4.jpg');"></div>
        <div class="bg-item" style="background-image: url('/img/pic5.jpg');"></div>
        <div class="bg-item" style="background-image: url('/img/pic6.jpg');"></div>
        <div class="bg-item" style="background-image: url('/img/pic7.jpg');"></div>
        <div class="bg-item" style="background-image: url('/img/pic8.jpg');"></div>
        <div class="bg-item" style="background-image: url('/img/pic9.jpg');"></div>
    </div>

    <div class="auth-wrapper register-wrapper">
        <div class="auth-box register-box">
            <h1 th:text="#{auth.join_title}"></h1>
            <p th:text="#{auth.create_account_subtitle}"></p>

            <form method="post" th:action="@{/register}" th:object="${user}">
                <!-- Error Messages -->
                <div class="alert alert-error" th:if="${error}">
                    <i data-feather="alert-circle" style="width: 16px; height: 16px;"></i>
                    <span th:text="${error}"></span>
                </div>

                <div class="alert alert-success" th:if="${param.registered}">
                    <i data-feather="check-circle" style="width: 16px; height: 16px;"></i>
                    <span th:text="#{auth.success.registered}"></span>
                </div>

                <!-- Name Fields -->
                <div class="form-row">
                    <div class="input-group">
                        <label for="firstname"><span th:text="#{auth.first_name}"></span><span class="required">*</span></label>
                        <input id="firstname" th:field="*{firstname}" type="text" required>
                        <div class="form-error" th:if="${#fields.hasErrors('firstname')}">
                            <i data-feather="alert-circle" style="width: 12px; height: 12px;"></i>
                            <span th:errors="*{firstname}"></span>
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="lastname"><span th:text="#{auth.last_name}"></span><span class="required">*</span></label>
                        <input id="lastname" th:field="*{lastname}" type="text" required>
                        <div class="form-error" th:if="${#fields.hasErrors('lastname')}">
                            <i data-feather="alert-circle" style="width: 12px; height: 12px;"></i>
                            <span th:errors="*{lastname}"></span>
                        </div>
                    </div>
                </div>

                <!-- Middle Name -->
                <div class="input-group">
                    <label for="middlename" th:text="#{auth.middle_name}"></label>
                    <input id="middlename" th:field="*{middlename}" type="text">
                </div>

                <!-- Username -->
                <div class="input-group">
                    <label for="username"><span th:text="#{auth.username}"></span><span class="required">*</span></label>
                    <input id="username" th:field="*{username}" type="text" required>
                    <div class="form-error" th:if="${#fields.hasErrors('username')}">
                        <i data-feather="alert-circle" style="width: 12px; height: 12px;"></i>
                        <span th:errors="*{username}"></span>
                    </div>
                    <div class="form-error" th:if="${usernameError}">
                        <i data-feather="alert-circle" style="width: 12px; height: 12px;"></i>
                        <span th:text="${usernameError}"></span>
                    </div>
                    <div class="form-help">
                        <i data-feather="info" style="width: 12px; height: 12px;"></i>
                        <span th:text="#{auth.username_help}"></span>
                    </div>
                </div>

                <!-- Email -->
                <div class="input-group">
                    <label for="email"><span th:text="#{auth.email}"></span><span class="required">*</span></label>
                    <input id="email" th:field="*{email}" type="email" required>
                    <div class="form-help">
                        <i data-feather="info" style="width: 12px; height: 12px;"></i>
                        <span th:text="#{auth.email_help}">123</span>
                    </div>
                    <div class="form-error" th:if="${#fields.hasErrors('email')}">
                        <i data-feather="alert-circle" style="width: 12px; height: 12px;"></i>                        
                        <span th:errors="*{email}"></span>
                    </div>
                    <div class="form-error" th:if="${emailError}">
                        <i data-feather="alert-circle" style="width: 12px; height: 12px;"></i>
                        <span th:text="${emailError}"></span>
                    </div>
                </div>

                <!-- Password -->
                <div class="input-group">
                    <label for="password"><span th:text="#{auth.password}"></span><span class="required">*</span></label>
                    <input id="password" th:field="*{password}" type="password" required>
                    <div class="form-error" th:if="${#fields.hasErrors('password')}">
                        <i data-feather="alert-circle" style="width: 12px; height: 12px;"></i>
                        <span th:errors="*{password}"></span>
                    </div>
                    <div class="form-help">
                        <i data-feather="shield" style="width: 12px; height: 12px;"></i>
                        <span th:text="#{auth.password_help}"></span>
                    </div>
                </div>

                <!-- Form Actions -->
                <div class="button-group">
                    <a href="/login" class="btn btn-cancel">
                        <i data-feather="arrow-left" style="width: 16px; height: 16px;"></i>
                        <span th:text="#{auth.back_to_login}"></span>
                    </a>
                    <button type="submit" class="btn btn-primary">
                        <i data-feather="user-plus" style="width: 16px; height: 16px;"></i>
                        <span th:text="#{auth.create_account}"></span>
                    </button>
                </div>
            </form>

            <!-- Login Link -->
            <div class="bottom-link">
                <p><span th:text="#{auth.already_have_account}"></span> <a href="/login" th:text="#{auth.signin_here}"></a></p>
            </div>
        </div>
    </div>

    <script src="/js/common.js"></script>
</body>
</html>